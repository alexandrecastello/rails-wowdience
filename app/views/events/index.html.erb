<!-- Hero Section -->
<div class="events-hero-section">
  <div class="container">
    <div class="row align-items-center py-5">
      <div class="col-lg-8">
        <h1 class="display-4 fw-bold text-white mb-3 hero-title"><%= t('events.title') %></h1>
        <p class="lead text-white mb-4"><%= t('events.subtitle') %></p>
        <% if user_signed_in? %>
          <%= link_to t('events.share_experience'), new_review_step1_path, class: 'btn btn-light btn-lg' %>
        <% else %>
          <%= link_to t('events.share_experience'), new_user_registration_path, class: 'btn btn-light btn-lg' %>
        <% end %>
      </div>
      <div class="col-lg-4 text-center">
        <i class="fas fa-music fa-5x text-white opacity-75"></i>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h3 page-title"><%= t('events.all_events') %></h2>
    <div class="text-muted">
      <i class="fas fa-calendar-alt me-2"></i>
      <%= @events.count %> <%= @events.count == 1 ? t('events.event_count') : t('events.event_count_plural') %>
    </div>
  </div>

  <% if @events.any? %>
    <div class="row">
      <% @events.each do |event| %>
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="event-card card h-100 shadow-sm border-0">
            <div class="card-header bg-gradient-primary text-white">
              <h5 class="card-title mb-0">
                <%= link_to event.name, event, class: 'text-white text-decoration-none' %>
              </h5>
            </div>
            <div class="card-body">
              <div class="event-info mb-3">
                <div class="d-flex align-items-center mb-2">
                  <i class="fas fa-calendar text-primary me-2"></i>
                  <span class="fw-semibold"><%= event.start_date.strftime("%d/%m/%Y") %></span>
                </div>
                <div class="d-flex align-items-center mb-3">
                  <i class="fas fa-map-marker-alt text-primary me-2"></i>
                  <span><%= event.location.name %></span>
                </div>
              </div>

              <% if event.total_reviews > 0 %>
                <div class="rating-section mb-3 p-3 bg-light rounded">
                  <div class="rating mb-2" data-rating="<%= event.average_rating %>">
                    <%= star_rating(event.average_rating, 'medium') %>
                  </div>
                  <small class="text-muted">
                    <i class="fas fa-comments me-1"></i>
                    <%= event.total_reviews %> <%= event.total_reviews == 1 ? t('events.based_on_reviews') : t('events.based_on_reviews_plural') %>
                  </small>
                </div>
              <% else %>
                <div class="no-reviews p-3 bg-light rounded text-center">
                  <i class="fas fa-star text-muted mb-2"></i>
                  <p class="text-muted mb-0 small"><%= t('events.still_no_reviews') %></p>
                </div>
              <% end %>
            </div>

            <div class="card-footer bg-transparent border-0 p-3">
              <div class="d-grid gap-2">
                <%= link_to event, class: 'btn btn-primary' do %>
                  <i class="fas fa-eye me-2"></i><%= t('navigation.view_details') %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state text-center py-5">
      <div class="empty-state-icon mb-4">
        <i class="fas fa-calendar-plus fa-4x text-muted"></i>
      </div>
      <h3 class="text-muted mb-3">Nenhum evento encontrado</h3>
      <p class="text-muted mb-4">Seja o primeiro a criar um evento incrÃ­vel e compartilhe com a comunidade!</p>
      <% if user_signed_in? %>
        <%= link_to new_event_path, class: 'btn btn-primary btn-lg' do %>
          <i class="fas fa-plus me-2"></i>Criar Seu Primeiro Evento
        <% end %>
      <% else %>
        <%= link_to new_user_registration_path, class: 'btn btn-primary btn-lg' do %>
          <i class="fas fa-user-plus me-2"></i>Cadastre-se para Criar Eventos
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
